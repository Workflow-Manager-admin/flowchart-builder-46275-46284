{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "Source file for a React component called FlowchartBuilder that implements a flowchart creation/editing interface, including nodes, edges, zoom/pan, undo/redo, and node property editing.", "external_files": ["./FlowchartBuilder.css"], "external_methods": ["React.useState", "React.useRef", "React.useCallback", "React.useEffect"], "published": ["default", "FlowchartBuilder"], "classes": [], "methods": [{"name": "generateId", "description": "Function to generate unique IDs for nodes."}, {"name": "getRelativeCoords(e, svgRef)", "description": "Utility to get coordinates relative to SVG element based on mouse event.", "scope": "", "scopeKind": ""}, {"name": "Sidebar({ onAddNode })", "description": "React component rendering the sidebar with tools for adding nodes.", "scope": "", "scopeKind": ""}, {"name": "Topbar({ onSave, onExport, onUndo, onRedo, canUndo, canRedo })", "description": "React component providing main action buttons like save, export, undo, redo.", "scope": "", "scopeKind": ""}, {"name": "NodePropertiesEditor({ node, onChange, onClose })", "description": "Component for editing node properties like label.", "scope": "", "scopeKind": ""}, {"name": "getNodeCenter(node)", "description": "Calculates center point of a node based on its position and size.", "scope": "", "scopeKind": ""}, {"name": "FlowchartBuilder()", "description": "Main React component building the flowchart editor with logic for nodes, edges, selection, editing, undo/redo, zoom/pan, and exporting.", "scope": "", "scopeKind": ""}, {"name": "InProgressEdge({ fromNode, mouse, transform })", "description": "Component rendering a temporary line when creating a connection between nodes.", "scope": "", "scopeKind": ""}, {"name": "move(e)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.localStorage.setItem", "window.alert", "URL.createObjectURL", "document.createElement", "window.removeEventListener", "window.addEventListener", "getRelativeCoords"], "search-terms": ["FlowchartBuilder", "React", "node", "edge", "undo", "redo", "connect", "zoom", "pan", "save", "export"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "2", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      strokeWidth={2.5}$/", "language": "JavaScript", "kind": "field", "scope": "InProgressEdge.strokeWidth", "scopeKind": "class"}, {"_type": "tag", "name": "AnonymousClasscd84548f0101", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^    const { x, y } = {$/", "language": "JavaScript", "kind": "class", "scope": "FlowchartBuilder", "scopeKind": "class"}, {"_type": "tag", "name": "COLORS", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^                  fill={COLORS.edge}$/", "language": "JavaScript", "kind": "field", "scope": "fill", "scopeKind": "class"}, {"_type": "tag", "name": "COLORS", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^const COLORS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "FlowchartBuilder", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^export default function FlowchartBuilder() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "InProgressEdge", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^function InProgressEdge({ fromNode, mouse, transform }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ fromNode, mouse, transform })"}, {"_type": "tag", "name": "NODE_SIZE", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^const NODE_SIZE = { width: 130, height: 55 };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "NodePropertiesEditor", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^function NodePropertiesEditor({ node, onChange, onClose }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ node, onChange, onClose })"}, {"_type": "tag", "name": "Sidebar", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^function Sidebar({ onAddNode }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ onAddNode })"}, {"_type": "tag", "name": "Topbar", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^function Topbar({ onSave, onExport, onUndo, onRedo, canUndo, canRedo }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ onSave, onExport, onUndo, onRedo, canUndo, canRedo })"}, {"_type": "tag", "name": "accent", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  accent: \"#ffb300\",$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "canvas", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  canvas: \"#f8f9fa\"$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "current", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      panStart.current = { x: e.clientX, y: e.clientY, origX: transform.x, origY: transform.y };$/", "language": "JavaScript", "kind": "class", "scope": "panStart", "scopeKind": "class"}, {"_type": "tag", "name": "current", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^    dragStartOffset.current = {$/", "language": "JavaScript", "kind": "class", "scope": "dragStartOffset", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^            onChange={e => setLabel(e.target.value)}$/", "language": "JavaScript", "kind": "property", "scope": "NodePropertiesEditor.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "edge", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  edge: \"#1976d2\",$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "generateId", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^const generateId = (() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getNodeCenter", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^function getNodeCenter(node) {$/", "language": "JavaScript", "kind": "function", "signature": "(node)"}, {"_type": "tag", "name": "getRelativeCoords", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^function getRelativeCoords(e, svgRef) {$/", "language": "JavaScript", "kind": "function", "signature": "(e, svgRef)"}, {"_type": "tag", "name": "handleCanvasClick", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onClick={handleCanvasClick}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleCanvasMouseDown", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onMouseDown={handleCanvasMouseDown}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseDown", "scopeKind": "class"}, {"_type": "tag", "name": "handleExport", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onExport={handleExport}$/", "language": "JavaScript", "kind": "field", "scope": "FlowchartBuilder.onExport", "scopeKind": "class"}, {"_type": "tag", "name": "handleRedo", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onRedo={handleRedo}$/", "language": "JavaScript", "kind": "field", "scope": "FlowchartBuilder.onRedo", "scopeKind": "class"}, {"_type": "tag", "name": "handleSave", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onSave={handleSave}$/", "language": "JavaScript", "kind": "field", "scope": "FlowchartBuilder.onSave", "scopeKind": "class"}, {"_type": "tag", "name": "handleUndo", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onUndo={handleUndo}$/", "language": "JavaScript", "kind": "field", "scope": "FlowchartBuilder.onUndo", "scopeKind": "class"}, {"_type": "tag", "name": "handleWheel", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          onWheel={handleWheel}$/", "language": "JavaScript", "kind": "field", "scope": "onWheel", "scopeKind": "class"}, {"_type": "tag", "name": "height", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^const NODE_SIZE = { width: 130, height: 55 };$/", "language": "JavaScript", "kind": "property", "scope": "NODE_SIZE", "scopeKind": "class"}, {"_type": "tag", "name": "label", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^            value={label}$/", "language": "JavaScript", "kind": "field", "scope": "NodePropertiesEditor.value", "scopeKind": "class"}, {"_type": "tag", "name": "mousePos", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      x2={mousePos.x}$/", "language": "JavaScript", "kind": "field", "scope": "InProgressEdge.x2", "scopeKind": "class"}, {"_type": "tag", "name": "mousePos", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      y2={mousePos.y}$/", "language": "JavaScript", "kind": "field", "scope": "InProgressEdge.y2", "scopeKind": "class"}, {"_type": "tag", "name": "move", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^    function move(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)"}, {"_type": "tag", "name": "nodeBg", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  nodeBg: \"#ffffff\",$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "nodeBorder", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  nodeBorder: \"#1976d2\",$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "onChange", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^            onChange={e => setLabel(e.target.value)}$/", "language": "JavaScript", "kind": "class", "scope": "NodePropertiesEditor", "scopeKind": "class"}, {"_type": "tag", "name": "origX", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      panStart.current = { x: e.clientX, y: e.clientY, origX: transform.x, origY: transform.y };$/", "language": "JavaScript", "kind": "property", "scope": "panStart.current", "scopeKind": "class"}, {"_type": "tag", "name": "origY", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      panStart.current = { x: e.clientX, y: e.clientY, origX: transform.x, origY: transform.y };$/", "language": "JavaScript", "kind": "property", "scope": "panStart.current", "scopeKind": "class"}, {"_type": "tag", "name": "primary", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  primary: \"#1976d2\",$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "secondary", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  secondary: \"#424242\",$/", "language": "JavaScript", "kind": "property", "scope": "COLORS", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      x1={start.x}$/", "language": "JavaScript", "kind": "field", "scope": "InProgressEdge.x1", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      y1={start.y}$/", "language": "JavaScript", "kind": "field", "scope": "InProgressEdge.y1", "scopeKind": "class"}, {"_type": "tag", "name": "svgRef", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^          ref={svgRef}$/", "language": "JavaScript", "kind": "field", "scope": "FlowchartBuilder.ref", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^  const handleAddNode = ({ type }) => {$/", "language": "JavaScript", "kind": "field", "scope": "FlowchartBuilder.handleAddNode", "scopeKind": "class"}, {"_type": "tag", "name": "width", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^const NODE_SIZE = { width: 130, height: 55 };$/", "language": "JavaScript", "kind": "property", "scope": "NODE_SIZE", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      panStart.current = { x: e.clientX, y: e.clientY, origX: transform.x, origY: transform.y };$/", "language": "JavaScript", "kind": "property", "scope": "panStart.current", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      x: mouse.x \\/ transform.k - node.position.x,$/", "language": "JavaScript", "kind": "property", "scope": "dragStartOffset.current", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      x: mouse.x \\/ transform.k - offX,$/", "language": "JavaScript", "kind": "property", "scope": "FlowchartBuilder.AnonymousClasscd84548f0101", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      panStart.current = { x: e.clientX, y: e.clientY, origX: transform.x, origY: transform.y };$/", "language": "JavaScript", "kind": "property", "scope": "panStart.current", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      y: mouse.y \\/ transform.k - node.position.y$/", "language": "JavaScript", "kind": "property", "scope": "dragStartOffset.current", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/flowchart-builder-46275-46284/frontend_flow_chart_builder/src/FlowchartBuilder.js", "pattern": "/^      y: mouse.y \\/ transform.k - offY$/", "language": "JavaScript", "kind": "property", "scope": "FlowchartBuilder.AnonymousClasscd84548f0101", "scopeKind": "class"}], "hash": "c378e68101a60a18577ab8331bbd1261", "format-version": 4, "code-base-name": "frontend_flow_chart_builder", "filename": "frontend_flow_chart_builder/src/FlowchartBuilder.js", "fields": [{"name": "strokeWidth={2.5}", "scope": "InProgressEdge.strokeWidth", "scopeKind": "class", "description": "unavailable"}, {"name": "fill={COLORS.edge}", "scope": "fill", "scopeKind": "class", "description": "unavailable"}, {"name": "accent: \"#ffb300\",", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "canvas: \"#f8f9fa\"", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={e => setLabel(e.target.value)}", "scope": "NodePropertiesEditor.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "edge: \"#1976d2\",", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={handleCanvasClick}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseDown={handleCanvasMouseDown}", "scope": "onMouseDown", "scopeKind": "class", "description": "unavailable"}, {"name": "onExport={handleExport}", "scope": "FlowchartBuilder.onExport", "scopeKind": "class", "description": "unavailable"}, {"name": "onRedo={handleRedo}", "scope": "FlowchartBuilder.onRedo", "scopeKind": "class", "description": "unavailable"}, {"name": "onSave={handleSave}", "scope": "FlowchartBuilder.onSave", "scopeKind": "class", "description": "unavailable"}, {"name": "onUndo={handleUndo}", "scope": "FlowchartBuilder.onUndo", "scopeKind": "class", "description": "unavailable"}, {"name": "onWheel={handleWheel}", "scope": "onWheel", "scopeKind": "class", "description": "unavailable"}, {"name": "const NODE_SIZE = { width: 130, height: 55 };", "scope": "NODE_SIZE", "scopeKind": "class", "description": "unavailable"}, {"name": "value={label}", "scope": "NodePropertiesEditor.value", "scopeKind": "class", "description": "unavailable"}, {"name": "x2={mousePos.x}", "scope": "InProgressEdge.x2", "scopeKind": "class", "description": "unavailable"}, {"name": "y2={mousePos.y}", "scope": "InProgressEdge.y2", "scopeKind": "class", "description": "unavailable"}, {"name": "nodeBg: \"#ffffff\",", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "nodeBorder: \"#1976d2\",", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "panStart.current = { x: e.clientX, y: e.clientY, origX: transform.x, origY: transform.y };", "scope": "panStart.current", "scopeKind": "class", "description": "unavailable"}, {"name": "primary: \"#1976d2\",", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "secondary: \"#424242\",", "scope": "COLORS", "scopeKind": "class", "description": "unavailable"}, {"name": "x1={start.x}", "scope": "InProgressEdge.x1", "scopeKind": "class", "description": "unavailable"}, {"name": "y1={start.y}", "scope": "InProgressEdge.y1", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={svgRef}", "scope": "FlowchartBuilder.ref", "scopeKind": "class", "description": "unavailable"}, {"name": "const handleAddNode = ({ type }) => {", "scope": "FlowchartBuilder.handleAddNode", "scopeKind": "class", "description": "unavailable"}, {"name": "x: mouse.x \\/ transform.k - node.position.x,", "scope": "dragStartOffset.current", "scopeKind": "class", "description": "unavailable"}, {"name": "x: mouse.x \\/ transform.k - offX,", "scope": "FlowchartBuilder.AnonymousClasscd84548f0101", "scopeKind": "class", "description": "unavailable"}, {"name": "y: mouse.y \\/ transform.k - node.position.y", "scope": "dragStartOffset.current", "scopeKind": "class", "description": "unavailable"}, {"name": "y: mouse.y \\/ transform.k - offY", "scope": "FlowchartBuilder.AnonymousClasscd84548f0101", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}